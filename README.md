# Крестики-нолики - Серверная часть веб-приложения

Это серверная часть (бэкенд) для веб-приложения "Крестики-нолики", разработанная с использованием Python и FastAPI.

## Описание проекта

Проект представляет собой API и веб-интерфейс для классической игры "Крестики-нолики" (Tic-Tac-Toe). 
Архитектура приложения построена по паттерну MVC (Model-View-Controller).

Основные возможности:
- Регистрация и аутентификация пользователей
- Создание и присоединение к играм
- Игровой процесс с соблюдением правил игры
- Отслеживание статистики игр
- Поддержка как API для взаимодействия с фронтендом, так и веб-интерфейса на основе Jinja2 Templates

## Технологии

- **Язык программирования**: Python 3.9+
- **Фреймворк**: FastAPI
- **База данных**: MySQL
- **ORM**: SQLAlchemy
- **Аутентификация**: JWT (JSON Web Tokens)
- **Шаблоны**: Jinja2
- **Управление зависимостями**: Poetry/Pip

## Архитектура

Проект следует паттерну проектирования MVC:

- **Model**: Модели данных на основе SQLAlchemy (app/models/)
- **View**: Шаблоны на основе Jinja2 для веб-интерфейса (app/views/)
- **Controller**: Обработчики бизнес-логики (app/controllers/)

Дополнительные компоненты:
- **Routers**: API-маршруты FastAPI (app/routers/)
- **Schemas**: Pydantic-схемы для валидации данных (app/schemas/)
- **Database**: Конфигурация базы данных (app/database/)

## Установка и запуск

### Предварительные требования

- Python 3.9 или выше
- MySQL сервер
- Pip (менеджер пакетов Python)

### Настройка окружения

1. Клонировать репозиторий:
```
git clone <repository-url>
cd nolik_backend
```

2. Создать виртуальное окружение:
```
python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

3. Установить зависимости:
```
pip install -r requirements.txt
```

4. Создать базу данных MySQL:
```
mysql -u root -p
CREATE DATABASE tictactoe;
```

5. Настроить переменные окружения:

Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные:
```
DATABASE_URL=mysql+pymysql://root:password@localhost/tictactoe
SECRET_KEY=09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
```

6. Инициализировать базу данных:
```
python -m app.database.init_db
```

### Запуск приложения

```
uvicorn main:app --reload
```

Приложение будет доступно по адресу: http://localhost:8000

## API документация

После запуска приложения, документация API будет доступна по адресу:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## Тестирование

Для запуска тестов используйте:

```
pytest
```

## Структура проекта

```
nolik_backend/
├── app/
│   ├── controllers/       # Контроллеры (бизнес-логика)
│   ├── database/          # Настройки базы данных
│   ├── models/            # Модели данных
│   ├── routers/           # Маршруты API
│   ├── schemas/           # Pydantic схемы
│   ├── static/            # Статические файлы (CSS, JS)
│   ├── views/             # Шаблоны интерфейса
│   └── __init__.py
├── tests/                 # Тесты
├── .env                   # Конфигурация окружения (не включена в репозиторий)
├── .gitignore
├── main.py                # Точка входа в приложение
├── README.md
└── requirements.txt       # Зависимости
```

## Автор

[Ваше имя] - Курсовая работа по дисциплине «Бэкенд-разработка» (Яндекс)

## Лицензия

Этот проект лицензирован под [лицензия] - см. файл LICENSE для деталей. 